<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Message Bus &mdash; NautilusTrader latest documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/nautilus.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Network" href="network.html" />
    <link rel="prev" title="Model" href="model.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> NautilusTrader
            <img src="../_static/nautilus-black.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                latest
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="accounting.html">Accounting</a></li>
<li class="toctree-l1"><a class="reference internal" href="analysis.html">Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="backtest.html">Backtest</a></li>
<li class="toctree-l1"><a class="reference internal" href="cache.html">Cache</a></li>
<li class="toctree-l1"><a class="reference internal" href="common.html">Common</a></li>
<li class="toctree-l1"><a class="reference internal" href="core.html">Core</a></li>
<li class="toctree-l1"><a class="reference internal" href="data.html">Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="execution.html">Execution</a></li>
<li class="toctree-l1"><a class="reference internal" href="indicators.html">Indicators</a></li>
<li class="toctree-l1"><a class="reference internal" href="infrastructure.html">Infrastructure</a></li>
<li class="toctree-l1"><a class="reference internal" href="live.html">Live</a></li>
<li class="toctree-l1"><a class="reference internal" href="model.html">Model</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Message Bus</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id1">Message Bus</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-nautilus_trader.msgbus.subscription">Subscription</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="network.html">Network</a></li>
<li class="toctree-l1"><a class="reference internal" href="portfolio.html">Portfolio</a></li>
<li class="toctree-l1"><a class="reference internal" href="risk.html">Risk</a></li>
<li class="toctree-l1"><a class="reference internal" href="serialization.html">Serialization</a></li>
<li class="toctree-l1"><a class="reference internal" href="trading.html">Trading</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">NautilusTrader</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Message Bus</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/api_reference/msgbus.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-nautilus_trader.msgbus">
<span id="message-bus"></span><h1>Message Bus<a class="headerlink" href="#module-nautilus_trader.msgbus" title="Permalink to this headline"></a></h1>
<section id="id1">
<h2>Message Bus<a class="headerlink" href="#id1" title="Permalink to this headline"></a></h2>
<span class="target" id="module-nautilus_trader.msgbus.bus"></span><dl class="py class">
<dt class="sig sig-object py" id="nautilus_trader.msgbus.bus.MessageBus">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">MessageBus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">TraderId</span> <span class="pre">trader_id</span></em>, <em class="sig-param"><span class="pre">Clock</span> <span class="pre">clock</span></em>, <em class="sig-param"><span class="pre">Logger</span> <span class="pre">logger</span></em>, <em class="sig-param"><span class="pre">unicode</span> <span class="pre">name=None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nautilus_trader.msgbus.bus.MessageBus" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Provides a generic message bus to facilitate various messaging patterns.</p>
<p>The bus provides both a producer and consumer API for PUB/SUB, REQ/REP as
well as direct point-to-point messaging to registered endpoints.</p>
<dl class="simple">
<dt>PUB/SUB wildcard patterns for hierarchical topics are possible:</dt><dd><ul class="simple">
<li><p>‘*’ asterisk represents one or more characters in a pattern.</p></li>
<li><p>‘?’ question mark represents a single character in a pattern.</p></li>
</ul>
</dd>
</dl>
<p>The asterisk in a wildcard matches any character zero or more times. For
example, “comp*” matches anything beginning with “comp” which means “comp,”
“complete,” and “computer” are all matched.</p>
<p>A question mark matches a single character once. For example, “c?mp” matches
“camp” and “comp.” The question mark can also be used more than once.
For example, “c??p” would match both of the above examples and “coop.”</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This message bus is not thread-safe and must be called from the same thread
as the event loop.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="nautilus_trader.msgbus.bus.MessageBus.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nautilus_trader.msgbus.bus.MessageBus.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Initialize a new instance of the <code class="docutils literal notranslate"><span class="pre">MessageBus</span></code> class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>trader_id</strong> (<a class="reference internal" href="model.html#nautilus_trader.model.identifiers.TraderId" title="nautilus_trader.model.identifiers.TraderId"><em>TraderId</em></a>) – The trader ID associated with the message bus.</p></li>
<li><p><strong>clock</strong> (<a class="reference internal" href="common.html#nautilus_trader.common.clock.Clock" title="nautilus_trader.common.clock.Clock"><em>Clock</em></a>) – The clock for the message bus.</p></li>
<li><p><strong>logger</strong> (<a class="reference internal" href="common.html#nautilus_trader.common.logging.Logger" title="nautilus_trader.common.logging.Logger"><em>Logger</em></a>) – The logger for the message bus.</p></li>
<li><p><strong>name</strong> (<em>str</em><em>, </em><em>optional</em>) – The custom name for the message bus.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – If <cite>name</cite> is not <code class="docutils literal notranslate"><span class="pre">None</span></code> and not a valid string.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nautilus_trader.msgbus.bus.MessageBus.deregister">
<span class="sig-name descname"><span class="pre">deregister</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">self,</span> <span class="pre">unicode</span> <span class="pre">endpoint,</span> <span class="pre">handler:</span> <span class="pre">Callable[[Any],</span> <span class="pre">None]</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">void</span></span></span><a class="headerlink" href="#nautilus_trader.msgbus.bus.MessageBus.deregister" title="Permalink to this definition"></a></dt>
<dd><p>De-register the given handler from the endpoint address.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>endpoint</strong> (<em>str</em>) – The endpoint address to deregister.</p></li>
<li><p><strong>handler</strong> (<em>Callable</em><em>[</em><em>[</em><em>Any</em><em>]</em><em>, </em><em>None</em><em>]</em>) – The handler for the de-registration.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – If <cite>endpoint</cite> is not a valid string.</p></li>
<li><p><strong>ValueError</strong> – If <cite>handler</cite> is not of type <cite>Callable</cite>.</p></li>
<li><p><strong>KeyError</strong> – If <cite>endpoint</cite> is not registered.</p></li>
<li><p><strong>ValueError</strong> – If <cite>handler</cite> is not registered at the endpoint.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nautilus_trader.msgbus.bus.MessageBus.endpoints">
<span class="sig-name descname"><span class="pre">endpoints</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span></span></span><a class="headerlink" href="#nautilus_trader.msgbus.bus.MessageBus.endpoints" title="Permalink to this definition"></a></dt>
<dd><p>Return all endpoint addresses registered with the message bus.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><em>list[str]</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nautilus_trader.msgbus.bus.MessageBus.has_subscribers">
<span class="sig-name descname"><span class="pre">has_subscribers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">self</span></em>, <em class="sig-param"><span class="pre">unicode</span> <span class="pre">topic=None</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#nautilus_trader.msgbus.bus.MessageBus.has_subscribers" title="Permalink to this definition"></a></dt>
<dd><p>If the message bus has subscribers for the give topic.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>topic</strong> (<em>str</em><em>, </em><em>optional</em>) – The topic filter. May include wildcard characters ‘*’ and ‘?’.
If <code class="docutils literal notranslate"><span class="pre">None</span></code> then query is for ALL topics.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>bool</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nautilus_trader.msgbus.bus.MessageBus.pub_count">
<span class="sig-name descname"><span class="pre">pub_count</span></span><a class="headerlink" href="#nautilus_trader.msgbus.bus.MessageBus.pub_count" title="Permalink to this definition"></a></dt>
<dd><p>The count of messages published by the bus.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>int</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nautilus_trader.msgbus.bus.MessageBus.publish">
<span class="sig-name descname"><span class="pre">publish</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">self</span></em>, <em class="sig-param"><span class="pre">unicode</span> <span class="pre">topic</span></em>, <em class="sig-param"><span class="pre">msg:</span> <span class="pre">Any</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">void</span></span></span><a class="headerlink" href="#nautilus_trader.msgbus.bus.MessageBus.publish" title="Permalink to this definition"></a></dt>
<dd><p>Publish the given message.</p>
<p>Subscription handlers will receive the message in priority order
(highest first).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>topic</strong> (<em>str</em>) – The topic to publish on.</p></li>
<li><p><strong>msg</strong> (<em>object</em>) – The message to publish.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nautilus_trader.msgbus.bus.MessageBus.register">
<span class="sig-name descname"><span class="pre">register</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">self,</span> <span class="pre">unicode</span> <span class="pre">endpoint,</span> <span class="pre">handler:</span> <span class="pre">Callable[[Any],</span> <span class="pre">None]</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">void</span></span></span><a class="headerlink" href="#nautilus_trader.msgbus.bus.MessageBus.register" title="Permalink to this definition"></a></dt>
<dd><p>Register the given handler to receive messages at the endpoint address.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>endpoint</strong> (<em>str</em>) – The endpoint address to register.</p></li>
<li><p><strong>handler</strong> (<em>Callable</em><em>[</em><em>[</em><em>Any</em><em>]</em><em>, </em><em>None</em><em>]</em>) – The handler for the registration.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – If <cite>endpoint</cite> is not a valid string.</p></li>
<li><p><strong>ValueError</strong> – If <cite>handler</cite> is not of type <cite>Callable</cite>.</p></li>
<li><p><strong>KeyError</strong> – If <cite>endpoint</cite> already registered.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nautilus_trader.msgbus.bus.MessageBus.req_count">
<span class="sig-name descname"><span class="pre">req_count</span></span><a class="headerlink" href="#nautilus_trader.msgbus.bus.MessageBus.req_count" title="Permalink to this definition"></a></dt>
<dd><p>The count of requests processed by the bus.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>int</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nautilus_trader.msgbus.bus.MessageBus.request">
<span class="sig-name descname"><span class="pre">request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">self</span></em>, <em class="sig-param"><span class="pre">unicode</span> <span class="pre">endpoint</span></em>, <em class="sig-param"><span class="pre">Request</span> <span class="pre">request</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">void</span></span></span><a class="headerlink" href="#nautilus_trader.msgbus.bus.MessageBus.request" title="Permalink to this definition"></a></dt>
<dd><p>Handle the given request.</p>
<p>Will log an error if the correlation ID already exists.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>endpoint</strong> (<em>str</em>) – The endpoint address to send the request to.</p></li>
<li><p><strong>request</strong> (<a class="reference internal" href="core.html#nautilus_trader.core.message.Request" title="nautilus_trader.core.message.Request"><em>Request</em></a>) – The request to handle.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nautilus_trader.msgbus.bus.MessageBus.res_count">
<span class="sig-name descname"><span class="pre">res_count</span></span><a class="headerlink" href="#nautilus_trader.msgbus.bus.MessageBus.res_count" title="Permalink to this definition"></a></dt>
<dd><p>The count of responses processed by the bus.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>int</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nautilus_trader.msgbus.bus.MessageBus.response">
<span class="sig-name descname"><span class="pre">response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">self</span></em>, <em class="sig-param"><span class="pre">Response</span> <span class="pre">response</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">void</span></span></span><a class="headerlink" href="#nautilus_trader.msgbus.bus.MessageBus.response" title="Permalink to this definition"></a></dt>
<dd><p>Handle the given response.</p>
<p>Will log an error if the correlation ID is not found.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>response</strong> (<a class="reference internal" href="core.html#nautilus_trader.core.message.Response" title="nautilus_trader.core.message.Response"><em>Response</em></a>) – The response to handle</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nautilus_trader.msgbus.bus.MessageBus.send">
<span class="sig-name descname"><span class="pre">send</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">self</span></em>, <em class="sig-param"><span class="pre">unicode</span> <span class="pre">endpoint</span></em>, <em class="sig-param"><span class="pre">msg:</span> <span class="pre">Any</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">void</span></span></span><a class="headerlink" href="#nautilus_trader.msgbus.bus.MessageBus.send" title="Permalink to this definition"></a></dt>
<dd><p>Send the given message to the given endpoint address.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>endpoint</strong> (<em>str</em>) – The endpoint address to send the message to.</p></li>
<li><p><strong>msg</strong> (<em>object</em>) – The message to send.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nautilus_trader.msgbus.bus.MessageBus.sent_count">
<span class="sig-name descname"><span class="pre">sent_count</span></span><a class="headerlink" href="#nautilus_trader.msgbus.bus.MessageBus.sent_count" title="Permalink to this definition"></a></dt>
<dd><p>The count of messages sent through the bus.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>int</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nautilus_trader.msgbus.bus.MessageBus.subscribe">
<span class="sig-name descname"><span class="pre">subscribe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">self,</span> <span class="pre">unicode</span> <span class="pre">topic,</span> <span class="pre">handler:</span> <span class="pre">Callable[[Any],</span> <span class="pre">None],</span> <span class="pre">int</span> <span class="pre">priority=0</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">void</span></span></span><a class="headerlink" href="#nautilus_trader.msgbus.bus.MessageBus.subscribe" title="Permalink to this definition"></a></dt>
<dd><p>Subscribe to the given message topic with the given callback handler.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>topic</strong> (<em>str</em>) – The topic for the subscription. May include wildcard characters ‘*’ and ‘?’.</p></li>
<li><p><strong>handler</strong> (<em>Callable</em><em>[</em><em>[</em><em>Any</em><em>]</em><em>, </em><em>None</em><em>]</em>) – The handler for the subscription.</p></li>
<li><p><strong>priority</strong> (<em>int</em><em>, </em><em>optional</em>) – The priority for the subscription. Determines the ordering of
handlers receiving messages being processed, higher priority
handlers will receive messages prior to lower priority handlers.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – If <cite>topic</cite> is not a valid string.</p></li>
<li><p><strong>ValueError</strong> – If <cite>handler</cite> is not of type <cite>Callable</cite>.</p></li>
</ul>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Assigning priority handling is an advanced feature which shouldn’t
normally be needed by most users. Only assign a higher priority to the
subscription if you are certain of what you’re doing. If an inappropriate
priority is assigned then the handler may receive messages before core
system components have been able to produce side effects and conduct the
necessary calculations for logically sound behaviour.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nautilus_trader.msgbus.bus.MessageBus.subscriptions">
<span class="sig-name descname"><span class="pre">subscriptions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">self</span></em>, <em class="sig-param"><span class="pre">unicode</span> <span class="pre">topic=None</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span></span></span><a class="headerlink" href="#nautilus_trader.msgbus.bus.MessageBus.subscriptions" title="Permalink to this definition"></a></dt>
<dd><p>Return all subscriptions matching the given topic.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>topic</strong> (<em>str</em><em>, </em><em>optional</em>) – The topic filter. May include wildcard characters ‘*’ and ‘?’.
If <code class="docutils literal notranslate"><span class="pre">None</span></code> then query is for ALL topics.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>list[Subscription]</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nautilus_trader.msgbus.bus.MessageBus.topics">
<span class="sig-name descname"><span class="pre">topics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span></span></span><a class="headerlink" href="#nautilus_trader.msgbus.bus.MessageBus.topics" title="Permalink to this definition"></a></dt>
<dd><p>Return all topics with active subscribers.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><em>list[str]</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nautilus_trader.msgbus.bus.MessageBus.trader_id">
<span class="sig-name descname"><span class="pre">trader_id</span></span><a class="headerlink" href="#nautilus_trader.msgbus.bus.MessageBus.trader_id" title="Permalink to this definition"></a></dt>
<dd><p>The trader ID associated with the bus.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>TraderId</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nautilus_trader.msgbus.bus.MessageBus.unsubscribe">
<span class="sig-name descname"><span class="pre">unsubscribe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">self,</span> <span class="pre">unicode</span> <span class="pre">topic,</span> <span class="pre">handler:</span> <span class="pre">Callable[[Any],</span> <span class="pre">None]</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">void</span></span></span><a class="headerlink" href="#nautilus_trader.msgbus.bus.MessageBus.unsubscribe" title="Permalink to this definition"></a></dt>
<dd><p>Unsubscribe the given callback handler from the given message topic.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>topic</strong> (<em>str</em><em>, </em><em>optional</em>) – The topic to unsubscribe from. May include wildcard characters ‘*’ and ‘?’.</p></li>
<li><p><strong>handler</strong> (<em>Callable</em><em>[</em><em>[</em><em>Any</em><em>]</em><em>, </em><em>None</em><em>]</em>) – The handler for the subscription.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – If <cite>topic</cite> is not a valid string.</p></li>
<li><p><strong>ValueError</strong> – If <cite>handler</cite> is not of type <cite>Callable</cite>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-nautilus_trader.msgbus.subscription">
<span id="subscription"></span><h2>Subscription<a class="headerlink" href="#module-nautilus_trader.msgbus.subscription" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="nautilus_trader.msgbus.subscription.Subscription">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">Subscription</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">unicode</span> <span class="pre">topic,</span> <span class="pre">handler:</span> <span class="pre">Callable[[Any],</span> <span class="pre">None],</span> <span class="pre">int</span> <span class="pre">priority=0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#nautilus_trader.msgbus.subscription.Subscription" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Represents a subscription to a particular topic.</p>
<p>This is an internal class intended to be used by the message bus to organize
topics and their subscribers.</p>
<p class="rubric">Notes</p>
<p>The subscription equality is determined by the topic and handler,
priority is not considered (and could change).</p>
<dl class="py method">
<dt class="sig sig-object py" id="nautilus_trader.msgbus.subscription.Subscription.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nautilus_trader.msgbus.subscription.Subscription.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Initialize a new instance of the <code class="docutils literal notranslate"><span class="pre">Subscription</span></code> class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>topic</strong> (<em>str</em>) – The topic for the subscription. May include wildcard characters ‘*’ and ‘?’.</p></li>
<li><p><strong>handler</strong> (<em>Callable</em><em>[</em><em>[</em><a class="reference internal" href="core.html#nautilus_trader.core.message.Message" title="nautilus_trader.core.message.Message"><em>Message</em></a><em>]</em><em>, </em><em>None</em><em>]</em>) – The handler for the subscription.</p></li>
<li><p><strong>priority</strong> (<em>int</em>) – The priority for the subscription.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – If <cite>topic</cite> is not a valid string.</p></li>
<li><p><strong>ValueError</strong> – If <cite>handler</cite> is not of type <cite>Callable</cite>.</p></li>
<li><p><strong>ValueError</strong> – If <cite>priority</cite> is negative (&lt; 0).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nautilus_trader.msgbus.subscription.Subscription.handler">
<span class="sig-name descname"><span class="pre">handler</span></span><a class="headerlink" href="#nautilus_trader.msgbus.subscription.Subscription.handler" title="Permalink to this definition"></a></dt>
<dd><p>The handler for the subscription.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>Callable</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nautilus_trader.msgbus.subscription.Subscription.priority">
<span class="sig-name descname"><span class="pre">priority</span></span><a class="headerlink" href="#nautilus_trader.msgbus.subscription.Subscription.priority" title="Permalink to this definition"></a></dt>
<dd><p>The priority for the subscription.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>int</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nautilus_trader.msgbus.subscription.Subscription.topic">
<span class="sig-name descname"><span class="pre">topic</span></span><a class="headerlink" href="#nautilus_trader.msgbus.subscription.Subscription.topic" title="Permalink to this definition"></a></dt>
<dd><p>The topic for the subscription.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>str</cite></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="model.html" class="btn btn-neutral float-left" title="Model" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="network.html" class="btn btn-neutral float-right" title="Network" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2015-2021, Nautech Systems Pty Ltd..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>